<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat - Sistema</title>
    <link rel="stylesheet" href="estilo.css">
</head>
<body class="painel-page">
    <div class="app-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo-circle">S</div>
                <div class="logo">Sistema</div>
            </div>
            
            <div class="user-profile">
                <div class="user-avatar">T</div>
                <div class="user-details">
                    <div class="user-name">tayna</div>
                    <div class="user-id">ID: #12345</div>
                    <div class="user-role">Administrador</div>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="dashboard.html" class="nav-item">Dashboard</a></li>
                    <li><a href="painel.html" class="nav-item">Minhas Tarefas</a></li>
                    <li><a href="agenda.html" class="nav-item">Agenda</a></li>
                    <li><a href="chat.html" class="nav-item ativo">Chat</a></li>
                    <li><a href="perfil.html" class="nav-item">Perfil</a></li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <button class="logout-button" onclick="sair()">Sair</button>
            </div>
        </aside>

        <main class="main-content">
            <header class="content-header">
                <div class="header-left">
                    <button class="menu-toggle">☰</button>
                    <h1 id="pageTitle">Chat da Equipe</h1>
                </div>
                <div class="user-info">Olá, tayna</div>
            </header>

            <div class="content-body">
                <div class="chat-container">
                    <div class="chat-empresarial">
                        <div class="lista-conversas">
                            <div class="cabecalho-chat">
                                <h3>Conversas</h3>
                            </div>
                            <div class="lista-contatos">
                                <!-- GRUPO DE SUPERVISORES -->
                                <div class="contato-grupo">
                                    <h4>Supervisores</h4>
                                    <div class="contato-item ativo" data-id="1">
                                        <div class="contato-info">
                                            <div class="nome-contato">Carlos Silva - Supervisor</div>
                                            <div class="ultima-mensagem">Precisamos conversar sobre o projeto</div>
                                        </div>
                                        <div class="contato-status">
                                            <div class="hora-mensagem">09:30</div>
                                            <div class="status-bolinha online"></div>
                                        </div>
                                    </div>
                                    <div class="contato-item" data-id="2">
                                        <div class="contato-info">
                                            <div class="nome-contato">Ana Santos - Gerente</div>
                                            <div class="ultima-mensagem">Relatório aprovado</div>
                                        </div>
                                        <div class="contato-status">
                                            <div class="hora-mensagem">Ontem</div>
                                            <div class="status-bolinha offline"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- GRUPO DE COLABORADORES -->
                                <div class="contato-grupo">
                                    <h4>Colegas de Trabalho</h4>
                                    <div class="contato-item" data-id="3">
                                        <div class="contato-info">
                                            <div class="nome-contato">João - Design</div>
                                            <div class="ultima-mensagem">Layouts prontos para revisão</div>
                                        </div>
                                        <div class="contato-status">
                                            <div class="hora-mensagem">08:45</div>
                                            <div class="status-bolinha online"></div>
                                        </div>
                                    </div>
                                    <div class="contato-item" data-id="4">
                                        <div class="contato-info">
                                            <div class="nome-contato">Maria - Desenvolvedora</div>
                                            <div class="ultima-mensagem">Código revisado e aprovado</div>
                                        </div>
                                        <div class="contato-status">
                                            <div class="hora-mensagem">Ontem</div>
                                            <div class="status-bolinha online"></div>
                                        </div>
                                    </div>
                                    <div class="contato-item" data-id="5">
                                        <div class="contato-info">
                                            <div class="nome-contato">Pedro - QA</div>
                                            <div class="ultima-mensagem">Testes finalizados sem erros</div>
                                        </div>
                                        <div class="contato-status">
                                            <div class="hora-mensagem">10:15</div>
                                            <div class="status-bolinha online"></div>
                                        </div>
                                    </div>
                                </div>

                                <!-- GRUPOS DE TRABALHO -->
                                <div class="contato-grupo">
                                    <h4>Grupos de Trabalho</h4>
                                    <div class="contato-item" data-id="6">
                                        <div class="contato-info">
                                            <div class="nome-contato">Equipe Desenvolvimento</div>
                                            <div class="ultima-mensagem">Vamos nos reunir às 10h</div>
                                        </div>
                                        <div class="contato-status">
                                            <div class="hora-mensagem">09:15</div>
                                            <div class="status-bolinha online"></div>
                                        </div>
                                    </div>
                                    <div class="contato-item" data-id="7">
                                        <div class="contato-info">
                                            <div class="nome-contato">Projeto Sistema Novo</div>
                                            <div class="ultima-mensagem">Reunião de planejamento amanhã</div>
                                        </div>
                                        <div class="contato-status">
                                            <div class="hora-mensagem">Ontem</div>
                                            <div class="status-bolinha online"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="area-mensagens">
                            <div class="cabecalho-conversa">
                                <div class="info-contato">
                                    <div class="avatar-contato">CS</div>
                                    <div>
                                        <div class="nome-contato-ativo">Carlos Silva - Supervisor</div>
                                        <div class="status-contato-ativo online">Online</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mensagens-container">
                                <div class="mensagem recebida">
                                    <div class="balao-mensagem">
                                        Bom dia Tayna! Como está o andamento do projeto?
                                    </div>
                                    <div class="hora-mensagem-individual">09:15</div>
                                </div>
                                
                                <div class="mensagem enviada">
                                    <div class="balao-mensagem">
                                        Bom dia Carlos! Está indo bem, estamos com 60% do desenvolvimento concluído.
                                    </div>
                                    <div class="hora-mensagem-individual">09:18</div>
                                </div>

                                <div class="mensagem recebida">
                                    <div class="balao-mensagem">
                                        Excelente! Precisamos conversar sobre a integração com o sistema legado. Podemos marcar para amanhã às 14h?
                                    </div>
                                    <div class="hora-mensagem-individual">09:20</div>
                                </div>

                                <div class="mensagem enviada">
                                    <div class="balao-mensagem">
                                        Perfeito! Amanhã às 14h está ótimo. Vou preparar a documentação.
                                    </div>
                                    <div class="hora-mensagem-individual">09:22</div>
                                </div>
                            </div>

                            <div class="input-mensagem-container">
                                <div class="input-mensagem">
                                    <input type="text" placeholder="Digite sua mensagem para Carlos..." id="input-mensagem">
                                    <button class="btn-enviar" onclick="enviarMensagem()">Enviar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Menu mobile
        document.querySelector('.menu-toggle').addEventListener('click', function() {
            document.querySelector('.sidebar').classList.toggle('active');
        });

        function sair() {
            if(confirm('Deseja realmente sair?')) {
                window.location.href = 'login.html';
            }
        }

        // Selecionar conversa
        document.querySelectorAll('.contato-item').forEach(item => {
            item.addEventListener('click', function() {
                // Remove classe ativa de todos
                document.querySelectorAll('.contato-item').forEach(contato => {
                    contato.classList.remove('ativo');
                });
                
                // Adiciona classe ativa no item clicado
                this.classList.add('ativo');
                
                // Atualiza o cabeçalho da conversa
                const nomeContato = this.querySelector('.nome-contato').textContent;
                const statusContato = this.querySelector('.status-bolinha').classList.contains('online') ? 'Online' : 'Offline';
                const avatar = nomeContato.split(' ').map(n => n[0]).join('').substring(0, 2);
                
                document.querySelector('.avatar-contato').textContent = avatar;
                document.querySelector('.nome-contato-ativo').textContent = nomeContato;
                document.querySelector('.status-contato-ativo').textContent = statusContato;
                document.querySelector('.status-contato-ativo').className = `status-contato-ativo ${statusContato.toLowerCase()}`;
                
                // Atualiza placeholder do input
                document.getElementById('input-mensagem').placeholder = `Digite sua mensagem para ${nomeContato.split(' - ')[0]}...`;
                
                // Limpa mensagens anteriores e adiciona mensagens padrão
                const container = document.querySelector('.mensagens-container');
                container.innerHTML = `
                    <div class="mensagem recebida">
                        <div class="balao-mensagem">
                            Olá Tayna! Como posso ajudá-la hoje?
                        </div>
                        <div class="hora-mensagem-individual">Agora</div>
                    </div>
                `;
            });
        });

        // Enviar mensagem
        function enviarMensagem() {
            const input = document.getElementById('input-mensagem');
            const mensagem = input.value.trim();
            
            if (mensagem) {
                const container = document.querySelector('.mensagens-container');
                const novaMensagem = document.createElement('div');
                novaMensagem.className = 'mensagem enviada';
                novaMensagem.innerHTML = `
                    <div class="balao-mensagem">${mensagem}</div>
                    <div class="hora-mensagem-individual">Agora</div>
                `;
                container.appendChild(novaMensagem);
                input.value = '';
                container.scrollTop = container.scrollHeight;
                
                // Simular resposta após 2 segundos
                setTimeout(() => {
                    const resposta = document.createElement('div');
                    resposta.className = 'mensagem recebida';
                    const respostas = [
                        "Entendi! Vou verificar isso.",
                        "Ótimo! Vamos agendar uma reunião para discutir os detalhes.",
                        "Perfeito! Estou disponível para ajudar no que precisar.",
                        "Obrigado pela informação! Vou analisar e retorno em breve.",
                        "Excelente trabalho! Continue assim."
                    ];
                    const respostaAleatoria = respostas[Math.floor(Math.random() * respostas.length)];
                    
                    resposta.innerHTML = `
                        <div class="balao-mensagem">${respostaAleatoria}</div>
                        <div class="hora-mensagem-individual">Agora</div>
                    `;
                    container.appendChild(resposta);
                    container.scrollTop = container.scrollHeight;
                }, 2000);
            }
        }

        // Enter para enviar mensagem
        document.getElementById('input-mensagem').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                enviarMensagem();
            }
        });
    </script>
</body>
</html>