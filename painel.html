<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema - Minhas Tarefas</title>
    <link rel="stylesheet" href="estilo.css">
</head>
<body class="painel-page">
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo-circle">MM</div>
                <div class="logo">Mind Map</div>
            </div>
            
            <div class="user-profile">
                <div class="user-avatar">T</div>
                <div class="user-details">
                    <div class="user-name">tayna</div>
                    <div class="user-id">ID: #12345</div>
                    <div class="user-role">Administrador</div>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="dashboard.html" class="nav-item">Dashboard</a></li>
                    <li><a href="painel.html" class="nav-item ativo">Minhas Tarefas</a></li>
                    <li><a href="agenda.html" class="nav-item">Agenda</a></li>
                    <li><a href="chat.html" class="nav-item">Chat</a></li>
                    <li><a href="perfil.html" class="nav-item">Perfil</a></li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <button class="logout-button" onclick="sair()">Sair</button>
            </div>
        </aside>

        <!-- Conteúdo Principal -->
        <main class="main-content">
            <header class="content-header">
                <div class="header-left">
                    <button class="menu-toggle">☰</button>
                    <h1 id="pageTitle">Minhas Tarefas</h1>
                </div>
                <div class="user-info">Olá, tayna</div>
            </header>

            <div class="content-body">
                <!-- SEÇÃO: TAREFAS DE HOJE -->
                <div class="card">
                    <div class="welcome-section">
                        <h1>Suas Tarefas de Hoje</h1>
                        <p id="data-atual">Segunda-feira, 25 de Novembro de 2024</p>
                    </div>

                    <!-- Resumo Rápido -->
                    <div class="dashboard-grid">
                        <div class="dashboard-card">
                            <h3>PRIORIDADE ALTA</h3>
                            <div class="numero">3</div>
                            <p>Urgente para hoje</p>
                        </div>
                        
                        <div class="dashboard-card">
                            <h3>EM ANDAMENTO</h3>
                            <div class="numero">2</div>
                            <p>Em progresso</p>
                        </div>
                        
                        <div class="dashboard-card">
                            <h3>CONCLUÍDAS</h3>
                            <div class="numero">1</div>
                            <p>Finalizadas hoje</p>
                        </div>
                        
                        <div class="dashboard-card">
                            <h3>TOTAL HOJE</h3>
                            <div class="numero">6</div>
                            <p>Tarefas do dia</p>
                        </div>
                    </div>

                    <!-- Lista de Tarefas do Dia -->
                    <h2 style="margin-top: 2rem;">Tarefas de Hoje</h2>
                    <div class="tarefas-lista">
                        <!-- Tarefa 1 -->
                        <div class="tarefa-item">
                            <div class="tarefa-header">
                                <strong>Reunião com equipe de desenvolvimento</strong>
                                <div class="tarefa-hora">10:00</div>
                            </div>
                            <div class="tarefa-info">
                                <span class="status pendente">PENDENTE</span>
                                <span class="prioridade alta">ALTA</span>
                            </div>
                            <div class="tarefa-data">Sala de reuniões A - Projeto Sistema Novo</div>
                            <div class="tarefa-botoes">
                                <button class="btn-mover btn-andamento">Iniciar</button>
                                <button class="btn-mover btn-concluir">Concluir</button>
                            </div>
                        </div>

                        <!-- Tarefa 2 -->
                        <div class="tarefa-item">
                            <div class="tarefa-header">
                                <strong>Enviar relatório mensal</strong>
                                <div class="tarefa-hora">14:00</div>
                            </div>
                            <div class="tarefa-info">
                                <span class="status andamento">EM ANDAMENTO</span>
                                <span class="prioridade media">MÉDIA</span>
                            </div>
                            <div class="tarefa-data">Enviar para: diretoria@empresa.com</div>
                            <div class="tarefa-botoes">
                                <button class="btn-mover btn-concluir">Concluir</button>
                                <button class="btn-mover btn-pendente">Pausar</button>
                            </div>
                        </div>

                        <!-- Tarefa 3 -->
                        <div class="tarefa-item">
                            <div class="tarefa-header">
                                <strong>Revisar documentação técnica</strong>
                                <div class="tarefa-hora">16:00</div>
                            </div>
                            <div class="tarefa-info">
                                <span class="status concluido">CONCLUÍDO</span>
                                <span class="prioridade baixa">BAIXA</span>
                            </div>
                            <div class="tarefa-data">Concluído às 15:30</div>
                            <div class="tarefa-botoes">
                                <button class="btn-mover btn-andamento">Reabrir</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SEÇÃO: TODAS AS TAREFAS -->
                <div class="card">
                    <h2>Todas as Minhas Tarefas</h2>
                    <div class="tarefas-colunas">
                        <!-- Coluna Pendentes -->
                        <div class="tarefa-coluna coluna-pendente">
                            <h3>Pendentes</h3>
                            <div class="tarefa-item">
                                <strong>Configurar servidor novo</strong>
                                <div class="tarefa-meta">
                                    <span class="status-badge pendente">PENDENTE</span>
                                    <span class="prioridade-badge alta">ALTA</span>
                                </div>
                                <div class="tarefa-data">Prazo: 28/11</div>
                                <div class="tarefa-botoes">
                                    <button class="btn-mover btn-andamento">Iniciar</button>
                                </div>
                            </div>
                            
                            <div class="tarefa-item">
                                <strong>Revisar código do projeto</strong>
                                <div class="tarefa-meta">
                                    <span class="status-badge pendente">PENDENTE</span>
                                    <span class="prioridade-badge media">MÉDIA</span>
                                </div>
                                <div class="tarefa-data">Prazo: 26/11</div>
                                <div class="tarefa-botoes">
                                    <button class="btn-mover btn-andamento">Iniciar</button>
                                </div>
                            </div>
                        </div>

                        <!-- Coluna Andamento -->
                        <div class="tarefa-coluna coluna-andamento">
                            <h3>Em Andamento</h3>
                            <div class="tarefa-item">
                                <strong>Desenvolver módulo de relatórios</strong>
                                <div class="tarefa-meta">
                                    <span class="status-badge andamento">ANDAMENTO</span>
                                    <span class="prioridade-badge media">MÉDIA</span>
                                </div>
                                <div class="tarefa-data">Progresso: 60%</div>
                                <div class="tarefa-botoes">
                                    <button class="btn-mover btn-concluir">Concluir</button>
                                    <button class="btn-mover btn-pendente">Pausar</button>
                                </div>
                            </div>
                            
                            <div class="tarefa-item">
                                <strong>Integrar API de pagamento</strong>
                                <div class="tarefa-meta">
                                    <span class="status-badge andamento">ANDAMENTO</span>
                                    <span class="prioridade-badge alta">ALTA</span>
                                </div>
                                <div class="tarefa-data">Progresso: 30%</div>
                                <div class="tarefa-botoes">
                                    <button class="btn-mover btn-concluir">Concluir</button>
                                    <button class="btn-mover btn-pendente">Pausar</button>
                                </div>
                            </div>
                        </div>

                        <!-- Coluna Concluídas -->
                        <div class="tarefa-coluna coluna-concluido">
                            <h3>Concluídas</h3>
                            <div class="tarefa-item concluido">
                                <strong>Atualizar documentação</strong>
                                <div class="tarefa-meta">
                                    <span class="status-badge concluido">CONCLUÍDO</span>
                                    <span class="prioridade-badge baixa">BAIXA</span>
                                </div>
                                <div class="tarefa-data">Concluído: 24/11</div>
                                <div class="tarefa-botoes">
                                    <button class="btn-mover btn-andamento">Reabrir</button>
                                </div>
                            </div>
                            
                            <div class="tarefa-item concluido">
                                <strong>Testar funcionalidades</strong>
                                <div class="tarefa-meta">
                                    <span class="status-badge concluido">CONCLUÍDO</span>
                                    <span class="prioridade-badge media">MÉDIA</span>
                                </div>
                                <div class="tarefa-data">Concluído: 23/11</div>
                                <div class="tarefa-botoes">
                                    <button class="btn-mover btn-andamento">Reabrir</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Atualizar data atual
        const data = new Date();
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        document.getElementById('data-atual').textContent = data.toLocaleDateString('pt-BR', options);

        // Menu mobile
        document.querySelector('.menu-toggle').addEventListener('click', function() {
            document.querySelector('.sidebar').classList.toggle('active');
        });

        // Sistema de mover tarefas
        document.querySelectorAll('.btn-mover').forEach(btn => {
            btn.addEventListener('click', function() {
                const tarefa = this.closest('.tarefa-item');
                const acao = this.textContent.toLowerCase();
                
                if (acao === 'iniciar' || acao === 'reabrir') {
                    tarefa.querySelector('.status, .status-badge').textContent = 'EM ANDAMENTO';
                    tarefa.querySelector('.status, .status-badge').className = acao.includes('status-badge') ? 'status-badge andamento' : 'status andamento';
                    if (tarefa.classList.contains('concluido')) {
                        tarefa.classList.remove('concluido');
                    }
                } else if (acao === 'concluir') {
                    tarefa.querySelector('.status, .status-badge').textContent = 'CONCLUÍDO';
                    tarefa.querySelector('.status, .status-badge').className = acao.includes('status-badge') ? 'status-badge concluido' : 'status concluido';
                    tarefa.classList.add('concluido');
                } else if (acao === 'pausar') {
                    tarefa.querySelector('.status, .status-badge').textContent = 'PENDENTE';
                    tarefa.querySelector('.status, .status-badge').className = acao.includes('status-badge') ? 'status-badge pendente' : 'status pendente';
                    tarefa.classList.remove('concluido');
                }
                
                // Atualizar contadores
                atualizarContadores();
            });
        });

        function atualizarContadores() {
            const tarefasHoje = document.querySelectorAll('.tarefas-lista .tarefa-item');
            const pendentes = Array.from(tarefasHoje).filter(t => 
                t.querySelector('.status').textContent === 'PENDENTE'
            ).length;
            const andamento = Array.from(tarefasHoje).filter(t => 
                t.querySelector('.status').textContent === 'EM ANDAMENTO'
            ).length;
            const concluidas = Array.from(tarefasHoje).filter(t => 
                t.querySelector('.status').textContent === 'CONCLUÍDO'
            ).length;

            document.querySelector('.dashboard-card:nth-child(1) .numero').textContent = pendentes;
            document.querySelector('.dashboard-card:nth-child(2) .numero').textContent = andamento;
            document.querySelector('.dashboard-card:nth-child(3) .numero').textContent = concluidas;
            document.querySelector('.dashboard-card:nth-child(4) .numero').textContent = tarefasHoje.length;
        }

        function sair() {
            if(confirm('Deseja realmente sair?')) {
                window.location.href = 'login.html';
            }
        }
    </script>
</body>
</html>